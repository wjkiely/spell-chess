@tailwind base;
@tailwind components;
@tailwind utilities;

/* ── Page theme variables ────────────────────────────────────────────────── */
:root {
  --bg-page: #f5f5f5;
  --text-page: #1a1a1a;
  /* Board defaults: wood (light mode default) */
  --board-light: #e8d0aa;
  --board-dark:  #a67d5d;
  --board-selected: #c9a959;
}

body {
  background-color: var(--bg-page);
  color: var(--text-page);
  transition: background-color 0.2s, color 0.2s;
}

/* ── Board color schemes – light mode overrides ──────────────────────────── */
body[data-scheme="green"] {
  --board-light: #779556;
  --board-dark:  #597343;
  --board-selected: #baca44;
}

body[data-scheme="blue"] {
  --board-light: #dee3e6;
  --board-dark:  #8ca2ad;
  --board-selected: #7fa650;
}

body[data-scheme="purple"] {
  --board-light: #e6e0f0;
  --board-dark:  #9583b8;
  --board-selected: #7b68c9;
}

/* ── Dark theme – page colors + board default (green) ───────────────────── */
body[data-theme="dark"] {
  --bg-page: #2b2b2b;
  --text-page: #e0e0e0;
  --board-light: #779556;
  --board-dark:  #597343;
  --board-selected: #baca44;
}

/* ── Dark theme board scheme overrides ──────────────────────────────────── */
body[data-theme="dark"][data-scheme="wood"] {
  --board-light: #e8d0aa;
  --board-dark:  #a67d5d;
  --board-selected: #c9a959;
}

body[data-theme="dark"][data-scheme="green"] {
  --board-light: #779556;
  --board-dark:  #597343;
  --board-selected: #baca44;
}

body[data-theme="dark"][data-scheme="blue"] {
  --board-light: #9dafbd;
  --board-dark:  #5d7a8c;
  --board-selected: #8fbc3f;
}

body[data-theme="dark"][data-scheme="purple"] {
  --board-light: #b8acd4;
  --board-dark:  #6b5a8e;
  --board-selected: #8975d0;
}

/* ── Board squares ───────────────────────────────────────────────────────── */
.sq-light    { background-color: var(--board-light); }
.sq-dark     { background-color: var(--board-dark); }
.sq-selected { background-color: var(--board-selected); }

/* Valid move hint overlay */
.sq-valid-hint::before {
  content: '';
  position: absolute;
  inset: 0;
  background-color: rgba(201, 169, 89, 0.5);
  box-shadow: inset 0 0 0 2px #a68a3a;
  z-index: 1;
  pointer-events: none;
}

/* History highlight */
.sq-history-highlight {
  box-shadow: inset 0 0 10px 4px rgba(0, 180, 0, 0.6);
}

/* Active freeze zone */
.sq-freeze-zone {
  box-shadow: inset 0 0 0 1000px rgba(173, 216, 230, 0.35);
}

/* Jumpable piece highlight */
.sq-jumpable {
  box-shadow: inset 0 0 0 1000px rgba(255, 255, 0, 0.25),
              inset 0 0 0 3px #DAA520;
}

/* Freeze border indicators */
.sq-freeze-top    { border-top:    3px solid #007bff; }
.sq-freeze-bottom { border-bottom: 3px solid #007bff; }
.sq-freeze-left   { border-left:   3px solid #007bff; }
.sq-freeze-right  { border-right:  3px solid #007bff; }

/* Piece transition when board flips */
.board-flipped .piece {
  transform: rotate(180deg);
}

/* All pieces are always dark – prevents theme text color from affecting them */
.chess-piece {
  color: #1a1a1a;
}

/* White piece in colored mode: filled symbol colored white with dark outline */
.colored-pieces.white-piece {
  color: white;
  text-shadow: -0.3px -0.3px 0 #555, -0.3px 0.3px 0 #555,
               0.3px -0.3px 0 #555,  0.3px 0.3px 0 #555;
}

/* Board coordinate labels — use the opposite square colour for natural contrast */
.sq-light .coord-label    { color: var(--board-dark); }
.sq-dark .coord-label     { color: var(--board-light); }
.sq-selected .coord-label { color: var(--board-dark); }

/* ── Dark mode component overrides ──────────────────────────────────────── */

body[data-theme="dark"] .share-banner {
  background-color: #1a2f4a;
  border-color: #2d4a6e;
  color: #cbd5e1;
}
body[data-theme="dark"] .share-link {
  color: #93c5fd;
}

body[data-theme="dark"] .nav-btn {
  background-color: #3c3c3c;
  border-color: #555;
  color: #e0e0e0;
}
body[data-theme="dark"] .nav-btn:hover {
  background-color: #555;
}

body[data-theme="dark"] .spell-panel {
  border-color: #555;
}

body[data-theme="dark"] .dark-btn {
  background-color: #4a4a4a;
  border-color: #666;
  color: #e0e0e0;
}
body[data-theme="dark"] .dark-btn:hover {
  background-color: #5a5a5a;
}
body[data-theme="dark"] .dark-btn:disabled {
  background-color: #333;
  color: #999;
  border-color: #444;
}

body[data-theme="dark"] .spell-jump-active {
  background-color: #5a4a00;
  border-color: #8a7000;
  color: #ffe066;
}
body[data-theme="dark"] .spell-freeze-active {
  background-color: #0f2a4a;
  border-color: #1a4070;
  color: #90c8f8;
}

body[data-theme="dark"] .cancel-btn {
  background-color: #3a1010;
  border-color: #6a2020;
  color: #f08080;
}
body[data-theme="dark"] .cancel-btn:hover {
  background-color: #4a1515;
}

body[data-theme="dark"] .resign-btn {
  background-color: #333;
  border-color: #555;
  color: #888;
}
body[data-theme="dark"] .resign-btn:hover {
  background-color: #3a1010;
  border-color: #6a2020;
  color: #f08080;
}

body[data-theme="dark"] .move-log {
  border-color: #444;
  color: #ccc;
  background-color: #2b2b2b;
}
body[data-theme="dark"] .move-log-row:hover {
  background-color: #3a3a3a;
}
body[data-theme="dark"] .move-log-turn-num {
  color: #666;
}
body[data-theme="dark"] .move-log-btn:hover {
  background-color: #3a3a3a;
}
body[data-theme="dark"] .move-log-active {
  background-color: #5a4400;
  color: #f0d080;
}

body[data-theme="dark"] .status-area {
  background-color: #333;
  border-color: #555;
  color: #e0e0e0;
}
